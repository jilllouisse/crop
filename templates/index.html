<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philippine Crop Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2E7D32;  /* Deep green */
            --secondary-color: #81C784;  /* Light green */
            --accent-color: #FFA000;  /* Warm amber */
            --text-color: #1B5E20;  /* Dark green */
            --light-bg: #F1F8E9;  /* Very light green */
            --card-shadow: 0 4px 6px rgba(0,0,0,0.1);
            --hover-shadow: 0 6px 12px rgba(0,0,0,0.15);
            --gradient-start: #2E7D32;
            --gradient-end: #81C784;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-bg);
        }

        .hero-section {
            background: url('/static/images/loam-soil.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 150px 0;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.4), 
                rgba(0, 0, 0, 0.4));
            z-index: 1;
        }

        .hero-section .container {
            position: relative;
            z-index: 2;
        }

        .hero-section .display-4 {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            font-weight: 700;
            margin-bottom: 1.5rem;
            letter-spacing: 1px;
            font-size: 4rem;
            color: white;
        }

        .hero-section .lead {
            font-size: 1.6rem;
            font-weight: 300;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            margin-bottom: 2.5rem;
            line-height: 1.8;
            color: white;
        }

        .hero-section .card {
            background-color: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(8px);
            border-radius: 25px;
        }

        .hero-section .card:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .hero-section .card-body {
            color: white;
            padding: 3rem;
        }

        .hero-section .card-body ul {
            color: white;
            list-style-type: none;
            padding-left: 0;
        }

        .hero-section .card-body li {
            color: white;
            margin-bottom: 20px;
            padding-left: 35px;
            position: relative;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .hero-section .card-body li::before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-weight: bold;
            font-size: 1.4rem;
        }

        .nav-pills .nav-link {
            color: var(--primary-color);
            border-radius: 12px;
            padding: 15px 25px;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .nav-pills .nav-link:hover {
            background-color: rgba(46, 125, 50, 0.1);
        }

        .nav-pills .nav-link.active {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
        }

        .section-title {
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-weight: 600;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--accent-color);
        }

        .info-card {
            background-color: var(--light-bg);
            border-left: 4px solid var(--primary-color);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
        }

        .crop-result {
            background-color: rgba(136, 179, 181, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-color);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .crop-result:hover {
            transform: translateX(8px);
            background-color: rgba(136, 179, 181, 0.15);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
        }

        .table thead th {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            font-weight: 500;
            border: none;
            padding: 15px;
        }

        .table tbody tr {
            transition: all 0.3s ease;
        }

        .table tbody tr:hover {
            background-color: rgba(26, 95, 122, 0.05);
            transform: scale(1.01);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            border: none;
            padding: 15px 35px;
            border-radius: 12px;
            font-weight: 500;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-size: 1.1rem;
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, var(--gradient-end), var(--gradient-start));
            color: white;
        }

        .form-control, .form-select {
            border-radius: 12px;
            padding: 15px;
            border: 2px solid #dee2e6;
            font-size: 1.1rem;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(46, 125, 50, 0.15);
        }

        .footer {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 40px 0;
            margin-top: 80px;
        }

        .alert-success {
            background-color: rgba(136, 179, 181, 0.1);
            border-color: var(--primary-color);
            color: var(--text-color);
            border-radius: 10px;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 100px 0;
            }
            
            .hero-section .lead {
                font-size: 1.3rem;
            }
            
            .hero-section .display-4 {
                font-size: 2.5rem;
            }
            
            .card {
                margin-bottom: 20px;
            }
        }

        .card-img-top {
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .card:hover .card-img-top {
            transform: scale(1.05);
        }

        .crop-card {
            overflow: hidden;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
        }

        .crop-card:hover {
            box-shadow: var(--hover-shadow);
            transform: translateY(-5px);
        }

        .crop-card .card-body {
            padding: 1.5rem;
        }

        .crop-card .card-title {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .crop-card .card-text {
            color: var(--text-color);
            font-size: 0.95rem;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <div class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-4">Philippine Crop Generator</h1>
            <p class="lead mb-4">Create a sustainable plan for rotating your crops each season. This tool helps Filipino farmers grow healthy plants and improve their soil.</p>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card bg-transparent border-light">
                        <div class="card-body">
                            <p class="mb-3">The Crop Rotation Schedule Generator is a comprehensive tool designed for Filipino farmers and gardeners who want to maximize their farm's potential. By implementing proper crop rotation, you can:</p>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="text-start">
                                        <li>Maintain soil fertility</li>
                                        <li>Prevent pest infestations</li>
                                        <li>Reduce disease outbreaks</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="text-start">
                                        <li>Improve crop yields</li>
                                        <li>Enhance soil structure</li>
                                        <li>Promote biodiversity</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p class="small mt-4">Created by: Jill Louisse E. Dionela and Glonie G. Layan</p>
            <p class="small">Last Updated: March 2024</p>
        </div>
    </div>

    <div class="container">
        <!-- Table of Contents -->
        <div class="row mb-5">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">Table of Contents</h5>
                    </div>
                    <div class="card-body">
                        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist">
                            <a class="nav-link" href="#about" data-bs-toggle="pill">About Crop Rotation</a>
                            <a class="nav-link" href="#soil-ph" data-bs-toggle="pill">Soil pH</a>
                            <a class="nav-link" href="#soil-type" data-bs-toggle="pill">Soil Type</a>
                            <a class="nav-link" href="#moisture" data-bs-toggle="pill">Moisture Level</a>
                            <a class="nav-link" href="#crop-types" data-bs-toggle="pill">Crop Types</a>
                            <a class="nav-link" href="#climate" data-bs-toggle="pill">Climate Factors</a>
                            <a class="nav-link" href="#generator" data-bs-toggle="pill">Crop Generator</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="col-md-9">
                <div class="tab-content" id="v-pills-tabContent">
                    <!-- About Section -->
                    <div class="tab-pane fade" id="about">
                        <h2 class="section-title">About Crop Rotation</h2>
                        <div class="info-card">
                            <h4>What is Crop Rotation?</h4>
                            <p>Crop rotation is a systematic approach to growing different types of crops in the same area across different seasons. This practice helps maintain soil health, prevent pest and disease buildup, and improve crop yields.</p>
                            
                            <h4>Why is it Important?</h4>
                            <ul>
                                <li><strong>Improves soil fertility and structure:</strong> Different crops have different nutrient needs and root structures, helping maintain balanced soil composition.</li>
                                <li><strong>Reduces soil erosion:</strong> Deep-rooted crops help break up compacted soil and improve water infiltration.</li>
                                <li><strong>Controls pests and diseases:</strong> Breaking the life cycle of pests and pathogens by changing crop types.</li>
                                <li><strong>Increases crop yields:</strong> Healthier soil and reduced pest pressure lead to better harvests.</li>
                                <li><strong>Promotes sustainable farming practices:</strong> Reduces the need for chemical inputs and supports natural ecosystem balance.</li>
                            </ul>

                            <h4>How Our Tool Helps You</h4>
                            <p>Our Crop Rotation Schedule Generator makes it easy to:</p>
                            <ul>
                                <li><strong>Match crops to your soil conditions:</strong> Input your soil pH, type, and moisture level to get personalized recommendations.</li>
                                <li><strong>Plan your growing seasons:</strong> Get a detailed schedule showing when to plant and harvest each crop.</li>
                                <li><strong>Optimize crop combinations:</strong> Learn which crops work well together and which should be kept apart.</li>
                                <li><strong>Track crop history:</strong> Keep records of what you've grown where, helping you maintain proper rotation cycles.</li>
                            </ul>

                            <div class="alert alert-success mt-4">
                                <h5 class="alert-heading">Getting Started</h5>
                                <p>To begin using the Crop Rotation Schedule Generator:</p>
                                <ol>
                                    <li>Test your soil pH using a soil testing kit</li>
                                    <li>Determine your soil type (sandy, clay, loamy, or silt)</li>
                                    <li>Assess your soil's moisture level</li>
                                    <li>Enter these details in our generator to get your personalized crop rotation plan</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <!-- Soil pH Section -->
                    <div class="tab-pane fade" id="soil-ph">
                        <h2 class="section-title">Soil pH</h2>
                        <div class="info-card">
                            <h4>What is Soil pH?</h4>
                            <p>Soil pH is a measure of the acidity or alkalinity of soil, ranging from 0 (very acidic) to 14 (very alkaline), with 7 being neutral. It's a crucial factor that affects nutrient availability, microbial activity, and plant growth.</p>
                            
                            <div class="row mt-4">
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title">pH Ranges and Their Effects</h5>
                                            <p class="card-text"><strong>Strongly Acidic (pH 4.0-5.0):</strong></p>
                                            <ul>
                                                <li>Aluminum and manganese toxicity</li>
                                                <li>Poor nitrogen fixation</li>
                                                <li>Limited phosphorus availability</li>
                                                <li>Reduced microbial activity</li>
                                            </ul>
                                            <p class="card-text"><strong>Moderately Acidic (pH 5.1-6.0):</strong></p>
                                            <ul>
                                                <li>Good for acid-loving plants</li>
                                                <li>Some nutrient limitations</li>
                                                <li>Moderate microbial activity</li>
                                            </ul>
                                            <p class="card-text"><strong>Neutral (pH 6.1-7.0):</strong></p>
                                            <ul>
                                                <li>Optimal for most crops</li>
                                                <li>Maximum nutrient availability</li>
                                                <li>Active microbial life</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title">pH Ranges and Their Effects (Continued)</h5>
                                            <p class="card-text"><strong>Slightly Alkaline (pH 7.1-8.0):</strong></p>
                                            <ul>
                                                <li>Good for alkaline-loving plants</li>
                                                <li>Iron and zinc deficiencies possible</li>
                                                <li>Reduced phosphorus availability</li>
                                            </ul>
                                            <p class="card-text"><strong>Strongly Alkaline (pH 8.1-9.0):</strong></p>
                                            <ul>
                                                <li>Severe nutrient deficiencies</li>
                                                <li>Poor plant growth</li>
                                                <li>Limited microbial activity</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h5 class="alert-heading">Common Philippine Crops and Their pH Preferences</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Acid-Loving Crops (pH 5.0-6.0):</h6>
                                        <ul>
                                            <li>Pineapple (Pinya)</li>
                                            <li>Sweet Potato (Kamote)</li>
                                            <li>Cassava (Kamoteng Kahoy)</li>
                                            <li>Peanut (Mani)</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>Neutral to Slightly Alkaline Crops (pH 6.0-7.5):</h6>
                                        <ul>
                                            <li>Rice (Palay)</li>
                                            <li>Corn (Mais)</li>
                                            <li>Tomato (Kamatis)</li>
                                            <li>Eggplant (Talong)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h5 class="alert-heading">Managing Soil pH</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>To Increase pH (Make Less Acidic):</h6>
                                        <ul>
                                            <li>Add agricultural lime (calcium carbonate)</li>
                                            <li>Use wood ash</li>
                                            <li>Apply dolomite lime</li>
                                            <li>Add crushed eggshells</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>To Decrease pH (Make More Acidic):</h6>
                                        <ul>
                                            <li>Add elemental sulfur</li>
                                            <li>Use acidic organic matter</li>
                                            <li>Apply aluminum sulfate</li>
                                            <li>Use pine needles as mulch</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-warning mt-4">
                                <h5 class="alert-heading">Testing Soil pH</h5>
                                <p>Regular soil pH testing is essential for successful farming. Here are common methods:</p>
                                <ul>
                                    <li><strong>pH Test Kits:</strong> Available at agricultural supply stores</li>
                                    <li><strong>Digital pH Meters:</strong> More accurate but requires calibration</li>
                                    <li><strong>Laboratory Testing:</strong> Most accurate, recommended annually</li>
                                    <li><strong>DIY Methods:</strong> Using vinegar and baking soda for rough estimates</li>
                                </ul>
                                <p class="mt-3"><strong>When to Test:</strong></p>
                                <ul>
                                    <li>Before starting a new growing season</li>
                                    <li>When adding new crops</li>
                                    <li>After applying soil amendments</li>
                                    <li>When plants show nutrient deficiency symptoms</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Soil Type Section -->
                    <div class="tab-pane fade" id="soil-type">
                        <h2 class="section-title">Soil Type</h2>
                        <div class="info-card">
                            <h4>Types of Soil</h4>
                            <p>Different soil types have different characteristics that affect crop growth. Understanding your soil type is crucial for successful farming:</p>
                            
                            <div class="row mt-4">
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://thumbs.dreamstime.com/b/sandy-soil-2985414.jpg" class="card-img-top" alt="Sandy Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Sandy Soil</h5>
                                            <p class="card-text">Sandy soil is characterized by its large particles and gritty texture. It drains quickly and warms up fast in spring, making it ideal for early planting. However, it has low water and nutrient retention.</p>
                                            <p class="card-text"><strong>Best for:</strong> Root crops, carrots, potatoes, and drought-resistant plants.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://img.thrfun.com/img/084/116/clay_soil_x1.jpg" class="card-img-top" alt="Clay Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Clay Soil</h5>
                                            <p class="card-text">Clay soil has very small particles that pack tightly together. It's rich in nutrients but has poor drainage and can be difficult to work with. It holds water well but can become compacted.</p>
                                            <p class="card-text"><strong>Best for:</strong> Rice, cabbage, and other moisture-loving crops.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://tse1.mm.bing.net/th?id=OIP.rnAt-G2Bc42E2IZLQoS-lAHaDt&pid=Api&P=0&h=180" class="card-img-top" alt="Loamy Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Loamy Soil</h5>
                                            <p class="card-text">Loamy soil is considered the ideal soil type. It's a balanced mixture of sand, silt, and clay, providing good drainage while retaining moisture and nutrients. It's easy to work with and suitable for most crops.</p>
                                            <p class="card-text"><strong>Best for:</strong> Most vegetables, fruits, and ornamental plants.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://gardencomposer.com/wp-content/uploads/2024/05/loamy-soil-1-1024x684.jpg" class="card-img-top" alt="Silt Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Silt Soil</h5>
                                            <p class="card-text">Silt soil has medium-sized particles and feels smooth to the touch. It's fertile and holds moisture well, but can compact easily. It's good for growing a wide variety of crops.</p>
                                            <p class="card-text"><strong>Best for:</strong> Most crops, especially those that need consistent moisture.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://nayturr.com/wp-content/uploads/2020/09/why-is-volcanic-soil-andisol-very-fertile-Sept82020-3-min.jpg.webp" class="card-img-top" alt="Volcanic Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Volcanic Soil</h5>
                                            <p class="card-text">Volcanic soil is rich in minerals and nutrients from volcanic ash and lava. It's highly fertile and has excellent water retention. Common in areas near volcanoes in the Philippines.</p>
                                            <p class="card-text"><strong>Best for:</strong> Coffee, vegetables, and fruit trees. Particularly good for high-value crops.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://rukminim1.flixcart.com/image/832/832/kqttg280/soil-manure/m/z/h/alluvial-soil-1kg-green-era-original-imag4r54wbucymtp.jpeg?q=70" class="card-img-top" alt="Alluvial Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Alluvial Soil</h5>
                                            <p class="card-text">Alluvial soil is found in river valleys and floodplains. It's rich in minerals and organic matter, with good drainage and fertility. Common in lowland areas of the Philippines.</p>
                                            <p class="card-text"><strong>Best for:</strong> Rice, corn, and other staple crops. Excellent for intensive farming.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://media.istockphoto.com/id/1225735654/photo/chalk-mining-limestone-quarry.jpg?s=612x612&w=0&k=20&c=gUMq0oWoIKJ-pZPpGWso_EE4MOoVirGRYzbOfPMxbEw=" class="card-img-top" alt="Limestone Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Limestone Soil</h5>
                                            <p class="card-text">Limestone soil is alkaline and rich in calcium. It's well-draining and good for certain crops that prefer higher pH levels. Found in karst regions of the Philippines.</p>
                                            <p class="card-text"><strong>Best for:</strong> Mangoes, cashews, and other alkaline-loving crops.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://img.freepik.com/premium-photo/peat-soil-planting-seedlings-flowers-ovary-closeup-natural-peat-from-swamps-selective-focus_330426-367.jpg?w=826" class="card-img-top" alt="Peat Soil" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Peat Soil</h5>
                                            <p class="card-text">Peat soil is rich in organic matter and has high water retention. It's acidic and requires careful management. Found in some wetland areas of the Philippines.</p>
                                            <p class="card-text"><strong>Best for:</strong> Acid-loving plants, certain vegetables, and ornamental plants.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h5 class="alert-heading">Soil Type Identification Tips</h5>
                                <ul class="mb-0">
                                    <li><strong>Sandy Soil:</strong> Feels gritty, won't form a ball when wet</li>
                                    <li><strong>Clay Soil:</strong> Sticky when wet, forms hard clods when dry</li>
                                    <li><strong>Loamy Soil:</strong> Smooth texture, forms a ball that crumbles easily</li>
                                    <li><strong>Silt Soil:</strong> Smooth and silky, holds together when wet</li>
                                    <li><strong>Volcanic Soil:</strong> Dark color, rich in minerals, feels light and porous</li>
                                    <li><strong>Alluvial Soil:</strong> Dark brown to black, rich in organic matter</li>
                                    <li><strong>Limestone Soil:</strong> Light colored, alkaline, often stony</li>
                                    <li><strong>Peat Soil:</strong> Dark brown to black, spongy texture, acidic</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Moisture Level Section -->
                    <div class="tab-pane fade" id="moisture">
                        <h2 class="section-title">Moisture Level</h2>
                        <div class="info-card" style="background-image: url('https://eos.com/wp-content/uploads/2019/12/plants-on-moistured-soil.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; position: relative;">
                            <div style="background-color: rgba(255, 255, 255, 0.9); padding: 20px; border-radius: 8px;">
                                <h4>Understanding Soil Moisture</h4>
                                <p>Soil moisture is crucial for plant growth and development. Different crops have different water requirements, and understanding your soil's moisture level helps in selecting the right crops and implementing proper irrigation practices.</p>
                                
                                <div class="row mt-4">
                                    <div class="col-md-4 mb-4">
                                        <div class="card crop-card h-100">
                                            <div class="card-body">
                                                <h5 class="card-title">High Moisture</h5>
                                                <p class="card-text">Soil that is consistently wet or waterlogged. This type of soil retains water for extended periods and may have poor drainage.</p>
                                                <p class="card-text"><strong>Characteristics:</strong></p>
                                                <ul>
                                                    <li>Feels wet to the touch</li>
                                                    <li>Water pools on surface</li>
                                                    <li>Poor aeration</li>
                                                    <li>May have standing water</li>
                                                </ul>
                                                <p class="card-text"><strong>Best for:</strong></p>
                                                <ul>
                                                    <li>Rice (paddy)</li>
                                                    <li>Watercress</li>
                                                    <li>Taro (Gabi)</li>
                                                    <li>Water spinach (Kangkong)</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="card crop-card h-100">
                                            <div class="card-body">
                                                <h5 class="card-title">Medium Moisture</h5>
                                                <p class="card-text">Soil that maintains a balanced moisture level, neither too wet nor too dry. This is the ideal condition for most crops.</p>
                                                <p class="card-text"><strong>Characteristics:</strong></p>
                                                <ul>
                                                    <li>Feels damp but not wet</li>
                                                    <li>Good water retention</li>
                                                    <li>Well-draining</li>
                                                    <li>Good aeration</li>
                                                </ul>
                                                <p class="card-text"><strong>Best for:</strong></p>
                                                <ul>
                                                    <li>Most vegetables</li>
                                                    <li>Fruit trees</li>
                                                    <li>Legumes</li>
                                                    <li>Herbs</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-4 mb-4">
                                        <div class="card crop-card h-100">
                                            <div class="card-body">
                                                <h5 class="card-title">Low Moisture</h5>
                                                <p class="card-text">Soil that dries out quickly and requires frequent irrigation. This type of soil is well-draining but may need water management.</p>
                                                <p class="card-text"><strong>Characteristics:</strong></p>
                                                <ul>
                                                    <li>Feels dry to the touch</li>
                                                    <li>Quick drainage</li>
                                                    <li>Good aeration</li>
                                                    <li>May crack when very dry</li>
                                                </ul>
                                                <p class="card-text"><strong>Best for:</strong></p>
                                                <ul>
                                                    <li>Drought-resistant crops</li>
                                                    <li>Root vegetables</li>
                                                    <li>Succulents</li>
                                                    <li>Mediterranean herbs</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="alert alert-success mt-4">
                                    <h5 class="alert-heading">Moisture Management Tips</h5>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>For High Moisture Soils:</h6>
                                            <ul>
                                                <li>Improve drainage with organic matter</li>
                                                <li>Create raised beds</li>
                                                <li>Use water-loving crops</li>
                                                <li>Monitor for waterlogging</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>For Low Moisture Soils:</h6>
                                            <ul>
                                                <li>Add organic matter to improve water retention</li>
                                                <li>Use mulch to reduce evaporation</li>
                                                <li>Implement drip irrigation</li>
                                                <li>Choose drought-resistant varieties</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="alert alert-info mt-4">
                                    <h5 class="alert-heading">Seasonal Considerations</h5>
                                    <p>In the Philippines, soil moisture levels can vary significantly between seasons:</p>
                                    <ul>
                                        <li><strong>Dry Season (March to May):</strong> Focus on drought-resistant crops and implement water conservation techniques</li>
                                        <li><strong>Wet Season (June to October):</strong> Choose water-tolerant crops and ensure proper drainage</li>
                                        <li><strong>Transition Periods:</strong> Monitor soil moisture closely and adjust crop selection accordingly</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Crop Types Section -->
                    <div class="tab-pane fade" id="crop-types">
                        <h2 class="section-title">Crop Types</h2>
                        <div class="info-card">
                            <h4>Understanding Different Crop Types</h4>
                            <p>Crops can be categorized based on their characteristics, growing requirements, and nutritional needs. Understanding these categories helps in planning effective crop rotation and maintaining soil health.</p>
                            
                            <div class="row mt-4">
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://conteudo.imguol.com.br/c/entretenimento/fa/2019/04/18/legumes-e-verduras-1555620381375_v2_1254x836.jpg" class="card-img-top" alt="Legumes (Nitrogen Fixers)" onerror="this.src='/static/images/loam-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Legumes (Nitrogen Fixers)</h5>
                                            <p class="card-text">Legumes have the unique ability to fix nitrogen in the soil, making them excellent for improving soil fertility.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Mung beans (Munggo)</li>
                                                <li>String beans (Sitaw)</li>
                                                <li>Peanuts (Mani)</li>
                                                <li>Pigeon peas (Kadyos)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>Improves soil nitrogen levels</li>
                                                <li>Reduces need for chemical fertilizers</li>
                                                <li>Good for crop rotation</li>
                                                <li>Provides protein-rich food</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://modernfarmer.com/wp-content/uploads/2019/08/shutterstock_750895588.jpg" class="card-img-top" alt="Root Crops" onerror="this.src='/static/images/sandy-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Root Crops</h5>
                                            <p class="card-text">Root crops are excellent for breaking up compacted soil and are important staple foods in the Philippines.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Sweet potato (Kamote)</li>
                                                <li>Cassava (Kamoteng kahoy)</li>
                                                <li>Taro (Gabi)</li>
                                                <li>Yam (Ube)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>Improves soil structure</li>
                                                <li>Drought resistant</li>
                                                <li>High yield potential</li>
                                                <li>Good for food security</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://www.gardeningknowhow.com/wp-content/uploads/2021/03/leafy-greens.jpg" class="card-img-top" alt="Leafy Crops" onerror="this.src='/static/images/moist-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Leafy Crops</h5>
                                            <p class="card-text">Leafy crops are heavy feeders that require rich soil and regular fertilization.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Water spinach (Kangkong)</li>
                                                <li>Chinese cabbage (Pechay)</li>
                                                <li>Malabar spinach (Alugbati)</li>
                                                <li>Lettuce (Letsugas)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>Quick growing</li>
                                                <li>High nutritional value</li>
                                                <li>Good for intercropping</li>
                                                <li>Multiple harvests possible</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <img src="https://www.zaytunafarm.com/wp-content/uploads/2017/04/Fruit-Harvest.jpg" class="card-img-top" alt="Fruiting Crops" onerror="this.src='/static/images/wet-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Fruiting Crops</h5>
                                            <p class="card-text">Fruiting crops are moderate feeders that produce edible fruits and require balanced nutrition.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Tomato (Kamatis)</li>
                                                <li>Eggplant (Talong)</li>
                                                <li>Okra (Okra)</li>
                                                <li>Chili (Sili)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>High market value</li>
                                                <li>Good for home gardens</li>
                                                <li>Multiple harvests</li>
                                                <li>Versatile in cooking</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card h-100">
                                        <img src="https://d2gg9evh47fn9z.cloudfront.net/1600px_COLOURBOX18369743.jpg" class="card-img-top" alt="Grains and Cereals" style="height: 200px; object-fit: cover;" onerror="this.src='/static/images/clay-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Grains and Cereals</h5>
                                            <p class="card-text">Staple crops that form the basis of Filipino diet and agriculture.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Rice (Palay)</li>
                                                <li>Corn (Mais)</li>
                                                <li>Millet (Dawa)</li>
                                                <li>Sorghum (Batad)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>Food security</li>
                                                <li>Income generation</li>
                                                <li>Cultural importance</li>
                                                <li>Multiple uses</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card h-100">
                                        <img src="https://wallpaperaccess.com/full/1466446.jpg" class="card-img-top" alt="Tropical Fruits" style="height: 200px; object-fit: cover;" onerror="this.src='/static/images/dry-soil.jpg'">
                                        <div class="card-body">
                                            <h5 class="card-title">Tropical Fruits</h5>
                                            <p class="card-text">Perennial crops that provide long-term benefits and are well-suited to Philippine climate.</p>
                                            <p class="card-text"><strong>Philippine Examples:</strong></p>
                                            <ul>
                                                <li>Mango (Mangga)</li>
                                                <li>Banana (Saging)</li>
                                                <li>Papaya (Papaya)</li>
                                                <li>Pineapple (Pinya)</li>
                                            </ul>
                                            <p class="card-text"><strong>Benefits:</strong></p>
                                            <ul>
                                                <li>Long-term investment</li>
                                                <li>Export potential</li>
                                                <li>Shade provision</li>
                                                <li>Soil conservation</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-success mt-4">
                                <h5 class="alert-heading">Crop Rotation Tips</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Basic Rotation Principles:</h6>
                                        <ul>
                                            <li>Follow heavy feeders with light feeders</li>
                                            <li>Include legumes in rotation</li>
                                            <li>Alternate deep and shallow-rooted crops</li>
                                            <li>Consider seasonal requirements</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>Philippine-Specific Considerations:</h6>
                                        <ul>
                                            <li>Plan around wet and dry seasons</li>
                                            <li>Include traditional crops</li>
                                            <li>Consider local market demands</li>
                                            <li>Account for typhoon seasons</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h5 class="alert-heading">Intercropping Opportunities</h5>
                                <p>Many Philippine crops work well together in intercropping systems:</p>
                                <ul>
                                    <li><strong>Corn + Beans:</strong> Traditional combination that maximizes space and nutrients</li>
                                    <li><strong>Banana + Coffee:</strong> Provides shade and additional income</li>
                                    <li><strong>Rice + Fish:</strong> Integrated farming system common in the Philippines</li>
                                    <li><strong>Fruit Trees + Vegetables:</strong> Efficient use of space and resources</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Climate Factors Section -->
                    <div class="tab-pane fade" id="climate">
                        <h2 class="section-title">Climate Factors</h2>
                        <div class="info-card">
                            <h4>Understanding Philippine Climate</h4>
                            <p>The Philippines has a tropical climate with distinct wet and dry seasons. The country experiences two main seasons:</p>
                            
                            <div class="row mt-4">
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title">Dry Season (December to May)</h5>
                                            <p class="card-text"><strong>Characteristics:</strong></p>
                                            <ul>
                                                <li>Average temperatures: 25-32Â°C</li>
                                                <li>Low rainfall</li>
                                                <li>High evaporation rates</li>
                                                <li>Strong sunlight</li>
                                            </ul>
                                            <p class="card-text"><strong>Recommended Crops:</strong></p>
                                            <ul>
                                                <li>Corn (Mais)</li>
                                                <li>Mung beans (Munggo)</li>
                                                <li>Peanuts (Mani)</li>
                                                <li>Watermelon (Pakwan)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <div class="card-body">
                                            <h5 class="card-title">Wet Season (June to November)</h5>
                                            <p class="card-text"><strong>Characteristics:</strong></p>
                                            <ul>
                                                <li>Heavy rainfall</li>
                                                <li>High humidity (80-90%)</li>
                                                <li>Average temperatures: 24-30Â°C</li>
                                                <li>Frequent typhoons</li>
                                            </ul>
                                            <p class="card-text"><strong>Recommended Crops:</strong></p>
                                            <ul>
                                                <li>Rice (Palay)</li>
                                                <li>Sweet potato (Kamote)</li>
                                                <li>Taro (Gabi)</li>
                                                <li>Water spinach (Kangkong)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-4">
                                <h5 class="alert-heading">Philippine Climate Types (PAGASA Classification)</h5>
                                <p>The Philippines has four climate types that affect crop selection:</p>
                                <ul>
                                    <li><strong>Type I:</strong> Two pronounced seasons (dry and wet) - Western Luzon, Mindoro, Negros, Palawan</li>
                                    <li><strong>Type II:</strong> No dry season, very pronounced wet season - Eastern Luzon, Eastern Mindanao</li>
                                    <li><strong>Type III:</strong> Short dry season, not very pronounced wet season - Central Luzon, Western Mindanao</li>
                                    <li><strong>Type IV:</strong> Rainfall distributed throughout the year - Central Visayas, Eastern Mindanao</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Crop Generator Section -->
                    <div class="tab-pane fade" id="generator">
                        <h2 class="section-title">Crop Rotation Generator</h2>
                        <div class="card">
                            <div class="card-body">
                                <form method="POST" class="needs-validation" id="cropForm" novalidate>
                                    <div class="mb-3">
                                        <label for="ph" class="form-label">Soil pH</label>
                                        <input type="number" step="0.1" class="form-control" id="ph" name="ph" required min="{{ min_ph }}" max="{{ max_ph }}">
                                        <div class="form-text">Enter a value between {{ min_ph }} and {{ max_ph }}</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="soil_type" class="form-label">Soil Type</label>
                                        <select class="form-select" id="soil_type" name="soil_type" required>
                                            <option value="">Select soil type...</option>
                                            <option value="sandy">Sandy</option>
                                            <option value="clay">Clay</option>
                                            <option value="loamy">Loamy</option>
                                            <option value="silt">Silt</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="moisture" class="form-label">Moisture Level</label>
                                        <select class="form-select" id="moisture" name="moisture" required>
                                            <option value="">Select moisture level...</option>
                                            <option value="high">High (Wet soil, good for water-loving crops)</option>
                                            <option value="medium">Medium (Well-draining soil, good for most crops)</option>
                                            <option value="low">Low (Dry soil, good for drought-resistant crops)</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="crop_type" class="form-label">Crop Type</label>
                                        <select class="form-select" id="crop_type" name="crop_type">
                                            <option value="">All Crop Types</option>
                                            <option value="fruit">Fruit Crops</option>
                                            <option value="vegetable">Vegetable Crops</option>
                                            <option value="root">Root Crops</option>
                                            <option value="leafy">Leafy Crops</option>
                                            <option value="grain">Grain Crops</option>
                                            <option value="industrial">Industrial Crops</option>
                                            <option value="legume">Legume Crops</option>
                                        </select>
                                        <div class="form-text">Select a specific crop type or leave as "All Crop Types" to see all matches</div>
                                    </div>

                                    <button type="submit" class="btn btn-success">Generate Crop Recommendations</button>
                                    <button type="button" class="btn btn-secondary" onclick="document.querySelector('form').reset();">Reset</button>
                                </form>

                                <div id="results" class="mt-4"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container text-center">
            <p>Â© 2024 Philippine Crop Generator. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Form validation and submission
        document.getElementById('cropForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!this.checkValidity()) {
                e.stopPropagation();
                this.classList.add('was-validated');
                return;
            }

            const formData = new FormData(this);
            
            // Show loading state
            document.getElementById('results').innerHTML = `
                <div class="text-center">
                    <div class="spinner-border text-success" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2">Generating crop recommendations...</p>
                </div>
            `;

            fetch(window.location.href, {
                method: 'POST',
                body: formData,
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                const resultsDiv = document.getElementById('results');
                
                if (data.crops && data.crops.length > 0) {
                    // Show success message and crop cards
                    resultsDiv.innerHTML = `
                        <div class="alert alert-success mb-4">
                            <h4 class="alert-heading"><i class="fas fa-check-circle me-2"></i>Found ${data.crops.length} Matching Crops!</h4>
                            <p class="mb-0">Based on your soil pH of ${formData.get('ph')}, ${formData.get('soil_type')} soil type, and ${formData.get('moisture')} moisture level, we've found the following suitable crops for your conditions.</p>
                        </div>
                        <div class="row">
                            ${data.crops.map(crop => `
                                <div class="col-md-6 mb-4">
                                    <div class="card crop-card h-100">
                                        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                                            <h5 class="card-title mb-0" style="color: #FFD700; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">${crop.crop}</h5>
                                            <div>
                                                ${crop.crop_type ? `<span class="badge bg-light text-dark me-2">${crop.crop_type}</span>` : ''}
                                                ${crop.climate_zone ? `<span class="badge bg-info text-white">${crop.climate_zone}</span>` : ''}
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div class="crop-description mb-4">
                                                <p class="card-text">${crop.description}</p>
                                            </div>
                                            
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="benefits-section mb-4">
                                                        <h6 class="text-success"><i class="fas fa-star"></i> Benefits</h6>
                                                        <ul class="list-unstyled">
                                                            ${crop.benefits.map(benefit => `
                                                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> ${benefit}</li>
                                                            `).join('')}
                                                        </ul>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-md-6">
                                                    <div class="growing-tips-section mb-4">
                                                        <h6 class="text-info"><i class="fas fa-lightbulb"></i> Growing Tips</h6>
                                                        <ul class="list-unstyled">
                                                            ${crop.growing_tips.map(tip => `
                                                                <li class="mb-2"><i class="fas fa-info-circle text-info me-2"></i> ${tip}</li>
                                                            `).join('')}
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="key-info-section mt-4">
                                                <h6 class="text-primary"><i class="fas fa-clipboard-list"></i> Key Information</h6>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="info-item mb-3">
                                                            <strong><i class="fas fa-calendar-alt text-primary me-2"></i>Harvest Date:</strong>
                                                            <p class="mb-0">${crop.harvest_date}</p>
                                                        </div>
                                                        <div class="info-item mb-3">
                                                            <strong><i class="fas fa-clock text-primary me-2"></i>Duration:</strong>
                                                            <p class="mb-0">${crop.duration_days} days</p>
                                                        </div>
                                                        ${crop.planting_season ? `
                                                            <div class="info-item mb-3">
                                                                <strong><i class="fas fa-seedling text-primary me-2"></i>Planting Season:</strong>
                                                                <p class="mb-0">${crop.planting_season.join(', ')}</p>
                                                            </div>
                                                        ` : ''}
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="info-item mb-3">
                                                            <strong><i class="fas fa-mountain text-primary me-2"></i>Soil Type:</strong>
                                                            <p class="mb-0">${crop.soil_type}</p>
                                                        </div>
                                                        <div class="info-item mb-3">
                                                            <strong><i class="fas fa-tint text-primary me-2"></i>Moisture Level:</strong>
                                                            <p class="mb-0">${crop.moisture_level}</p>
                                                        </div>
                                                        ${crop.yield_per_hectare ? `
                                                            <div class="info-item mb-3">
                                                                <strong><i class="fas fa-chart-line text-primary me-2"></i>Expected Yield:</strong>
                                                                <p class="mb-0">${crop.yield_per_hectare}</p>
                                                            </div>
                                                        ` : ''}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-footer bg-light">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="selected_crops" value="${crop.crop}" id="crop${crop.crop}" checked>
                                                <label class="form-check-label" for="crop${crop.crop}">
                                                    <i class="fas fa-sync-alt text-success me-2"></i>Include in rotation schedule
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="text-center mt-4">
                            <p class="text-muted mb-3">Select the crops you want to include in your rotation schedule</p>
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-calendar-alt me-2"></i>Generate Rotation Schedule
                            </button>
                        </div>
                    `;
                } else {
                    // Show no matches message
                    resultsDiv.innerHTML = `
                        <div class="alert alert-warning">
                            <h4 class="alert-heading"><i class="fas fa-exclamation-triangle me-2"></i>No Matching Crops Found</h4>
                            <p>We couldn't find any crops that match your current selection criteria. This could be because:</p>
                            <ul>
                                ${parseFloat(formData.get('ph')) < {{ min_ph }} || parseFloat(formData.get('ph')) > {{ max_ph }} ? 
                                    `<li>The soil pH value (${formData.get('ph')}) is outside the optimal range for most crops</li>` : ''}
                                ${formData.get('soil_type') && formData.get('moisture') ? 
                                    `<li>The combination of ${formData.get('soil_type')} soil and ${formData.get('moisture')} moisture level might be too restrictive</li>` : ''}
                                <li>The selected conditions might not be suitable for crop growth</li>
                            </ul>
                            <hr>
                            <p class="mb-0">Please try adjusting your criteria:</p>
                            <ul>
                                ${parseFloat(formData.get('ph')) < {{ min_ph }} || parseFloat(formData.get('ph')) > {{ max_ph }} ? 
                                    `<li>Try a different soil pH value within the recommended range ({{ min_ph }} - {{ max_ph }})</li>` : ''}
                                ${formData.get('soil_type') ? `<li>Consider selecting a different soil type</li>` : ''}
                                ${formData.get('moisture') ? `<li>Adjust the moisture level to match your actual conditions</li>` : ''}
                            </ul>
                            <div class="mt-3">
                                <button type="button" class="btn btn-outline-success" onclick="document.querySelector('form').reset();">
                                    <i class="fas fa-redo me-2"></i>Reset Form
                                </button>
                            </div>
                        </div>
                    `;
                }
            })
            .catch(error => {
                document.getElementById('results').innerHTML = `
                    <div class="alert alert-danger">
                        <h4 class="alert-heading">Error</h4>
                        <p>An error occurred while generating recommendations. Please try again.</p>
                    </div>
                `;
            });
        });

        // Maintain active tab after form submission
        document.addEventListener('DOMContentLoaded', function() {
            const hash = window.location.hash || '#generator';
            const tab = document.querySelector(`a[href="${hash}"]`);
            if (tab) {
                document.querySelectorAll('.nav-link').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('show', 'active'));
                
                tab.classList.add('active');
                const tabPane = document.querySelector(tab.getAttribute('href'));
                if (tabPane) {
                    tabPane.classList.add('show', 'active');
                }
            }
        });

        // Update hash when tab changes
        document.querySelectorAll('.nav-link').forEach(tab => {
            tab.addEventListener('click', function(e) {
                window.location.hash = this.getAttribute('href');
            });
        });
    </script>
</body>
</html>

